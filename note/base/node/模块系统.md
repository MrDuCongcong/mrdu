# 模块系统

node.js最初仅实现了CommonJS规范的模块系统，但是目前已经支持了ECMAScript的模块标准。

在Node.js中，每个文件都被视为一个单独模块。在下面情况下，Node.js会把模块视为一个Common.js模块。

- 带有 .cjs 扩展名的文件.
- 具有 .js 扩展名的文件，当最近的父 package.json 文件包含值为“commonjs”的顶级字段“type”时。
- 扩展名不是 .mjs、.cjs、.json、.node 或 .js 的文件。

## 模块加载机制

https://mp.weixin.qq.com/s/v-5Cg5XKisQeitJDjOR4AA

## 模块作用域

