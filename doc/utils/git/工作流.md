# 工作流

在团队开发过程中使用版本控制系统时，需要合理的工作流程来最大限度发挥成员的作用。

本篇文档将介绍3种被广泛使用的工作流（work flow）。

### Git flow——以发布为中心

Git flow是最早出现，并且使用最多的工作流。荷兰程序员 Vincent Driessen 曾发表了一篇《[A successful Git branching model](https://nvie.com/posts/a-successful-git-branching-model/)》博客 ，让该分支策略 广为人知。下面这张图出自该博客，描述了这一工作流。

<img src="D:\front\learn\mrdu\assets\git\GitFlowModel.png" style="zoom: 50%;" />

<center>图一  Git Flow</center>

这个工作流程使用分支名称来表示开发流程中开发状态的转移。这个工作流中最大的亮点在于，考虑了紧急状态下的bug修复，体现在上面的hotfix分支上面。而缺点在于，分支的创建是与开发状态相对应的，并且当某个分支完成时，需要合并到多个分支上，因此我们必须记忆每个分支所表示的状态，再实施前对整个开发流程进行系统的学习。下面，我们首先介绍一下，各分支所表示的状态及其含义。

首先，项目中长期存在两个分支：master和develop分支。

- master分支。master分支时常保持着软件可以正常运行的状态。由于要维持这一 状态，所以不允许开发者直接对 master 分支的代码进行修改和提交。其他分支的开发工作进展到可以发布的程度后，将会与 master 分支 进行合并，而且这一合并只在发布成品时进行。发布时会附加包含版本 编号的 Git 标签（Tag）。
- develop分支。与master分支相同，develop分支也不允许开发者直接修改和提交。程序员需要以develop分支为起点，新建feature分支，来完成新功能的添加或者bug的修复。也就是说，develop分支维持着开发过程中的最新代码，以便创建新的feature分支。

除了上面的两个长期分支，该工作流中还存在三个短期分支：feature、release和hotfix分支。这三个分支在开发完成，并合并到其它分支后，就可以在适当的时机删除了。

- feature分支。该分支被称为功能分支，或者特性分支。它以develop分支为起点，一切直接对代码的修改工作，都必须提交到该分支。该分支的工作流程如下：
-  



![](D:\front\learn\mrdu\assets\git\GitFlow.png)

### GitHub flow——以部署为中心

### GitLab flow 

<center>
 <img src="D:\front\learn\mrdu\assets\git\GitLabFlow1.png" style="zoom: 67%;" />
</center>
<img src="D:\front\learn\mrdu\assets\git\GitLabFlow2.png" style="zoom: 67%;" />

<img src="D:\front\learn\mrdu\assets\git\GitLabFlow3.png" style="zoom:67%;" />

## 参考文档

[1]: https://www.git-tower.com/learn/git/ebook/cn/command-line/advanced-topics/git-flow	"git-flow 的工作流程"
[2]: https://morningspace.github.io/tech/git-workflow-4/	"Git工作流面面观——Gitflow工作流"
[3]: https://docs.gitlab.cn/jh/topics/gitlab_flow.html	"GitLab Flow 官网介绍"

[4]: http://www.ruanyifeng.com/blog/2015/12/git-workflow.html	"Git 工作流程"
[5]: https://ithelp.ithome.com.tw/articles/10228195 "GIT 团队协作  谈流程管理 GitLab Flow"

